
; PICBASIC PRO(TM) Compiler 3.1.1.4, (c) 1997, 2018 ME Labs, Inc. All Rights Reserved. 
MPASMX_USED			EQU	1

#define	PBP_PATH	D:\PROGRAM FILES (X86)\PBP3_1\




        NOLIST
    ifdef PM_USED
        LIST
        "Error: PM does not support this device.  Use MPASM."
        NOLIST
    else
        LIST
        LIST p = 18F25J50, r = dec, w = -311, f = inhx32
        INCLUDE PBP_PATH\DEVICES\PIC18F25J50.MPASMINC	; MPASM  Header
        NOLIST
    endif
        LIST
BLOCK_SIZE	EQU	64


PBP_HARDWAREDEF  macro
  endm


    CONFIG  WDTEN = OFF           ; Disabled
    CONFIG  PLLDIV = 5            ; Divide by 5 (20 MHz oscillator input)
    CONFIG  STVREN = ON           ; Enabled
    CONFIG  XINST = OFF           ; Disabled
    CONFIG  DEBUG = OFF           ; Disabled
    CONFIG  CPUDIV = OSC1         ; No CPU system clock divide
    CONFIG  CP0 = OFF             ; Program memory is not code-protected
    CONFIG  OSC = INTOSC          ; INTOSC
    CONFIG  T1DIG = ON            ; Secondary Oscillator clock source may be selected
    CONFIG  LPT1OSC = OFF         ; High-power operation
    CONFIG  FCMEN = OFF           ; Disabled
    CONFIG  IESO = OFF            ; Disabled
    CONFIG  WDTPS = 512           ; 1:512
    CONFIG  DSWDTOSC = INTOSCREF  ; DSWDT uses INTRC
    CONFIG  RTCOSC = T1OSCREF     ; RTCC uses T1OSC/T1CKI
    CONFIG  DSBOREN = OFF         ; Disabled
    CONFIG  DSWDTEN = OFF         ; Disabled
    CONFIG  DSWDTPS = G2          ; 1:2,147,483,648 (25.7 days)
    CONFIG  IOL1WAY = OFF         ; The IOLOCK bit (PPSCON<0>) can be set once
    CONFIG  MSSP7B_EN = MSK7      ; 7 Bit address masking mode
    CONFIG  WPFP = PAGE_0         ; Write Protect Program Flash Page 0
    CONFIG  WPEND = PAGE_WPFP     ; Page WPFP<5:0> through Configuration Words erase/write protected
    CONFIG  WPCFG = OFF           ; Configuration Words page not erase/write-protected
    CONFIG  WPDIS = OFF           ; WPFP<5:0>/WPEND region ignored



; Define statements.
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00030	DEFINE OSC 8
#define		OSC		 8
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00032	DEFINE HSER_RCSTA 90h 
#define		HSER_RCSTA		 90h 
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00033	DEFINE HSER_TXSTA 24h
#define		HSER_TXSTA		 24h
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00034	DEFINE HSER_BAUD 9600 
#define		HSER_BAUD		 9600 
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00036	DEFINE HSER2_RCSTA 90h 
#define		HSER2_RCSTA		 90h 
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00037	DEFINE HSER2_TXSTA 24h
#define		HSER2_TXSTA		 24h
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00038	DEFINE HSER2_BAUD 9600 
#define		HSER2_BAUD		 9600 

RAM_START       		EQU	00000h
RAM_END         		EQU	00EBFh
RAM_BANKS       		EQU	0000Fh
BANK0_START     		EQU	00060h
BANK0_END       		EQU	000FFh
BANK1_START     		EQU	00100h
BANK1_END       		EQU	001FFh
BANK2_START     		EQU	00200h
BANK2_END       		EQU	002FFh
BANK3_START     		EQU	00300h
BANK3_END       		EQU	003FFh
BANK4_START     		EQU	00400h
BANK4_END       		EQU	004FFh
BANK5_START     		EQU	00500h
BANK5_END       		EQU	005FFh
BANK6_START     		EQU	00600h
BANK6_END       		EQU	006FFh
BANK7_START     		EQU	00700h
BANK7_END       		EQU	007FFh
BANK8_START     		EQU	00800h
BANK8_END       		EQU	008FFh
BANK9_START     		EQU	00900h
BANK9_END       		EQU	009FFh
BANK10_START    		EQU	00A00h
BANK10_END      		EQU	00AFFh
BANK11_START    		EQU	00B00h
BANK11_END      		EQU	00BFFh
BANK12_START    		EQU	00C00h
BANK12_END      		EQU	00CFFh
BANK13_START    		EQU	00D00h
BANK13_END      		EQU	00DFFh
BANK14_START    		EQU	00E00h
BANK14_END      		EQU	00EBFh
BANKA_START     		EQU	00000h
BANKA_END       		EQU	0005Fh

; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00028	A00000	FLAGS   VAR     BYTE BANKA SYSTEM       ' Static flags
FLAGS           		EQU	RAM_START + 000h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00027	A00001	GOP     VAR     BYTE BANKA SYSTEM       ' Gen Op Parameter
GOP             		EQU	RAM_START + 001h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00012	A00002	R0      VAR     WORD BANKA SYSTEM       ' System Register
R0              		EQU	RAM_START + 002h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00013	A00004	R1      VAR     WORD BANKA SYSTEM       ' System Register
R1              		EQU	RAM_START + 004h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00014	A00006	R2      VAR     WORD BANKA SYSTEM       ' System Register
R2              		EQU	RAM_START + 006h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00015	A00008	R3      VAR     WORD BANKA SYSTEM       ' System Register
R3              		EQU	RAM_START + 008h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00016	A0000A	R4      VAR     WORD BANKA SYSTEM       ' System Register
R4              		EQU	RAM_START + 00Ah
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00017	A0000C	R5      VAR     WORD BANKA SYSTEM       ' System Register
R5              		EQU	RAM_START + 00Ch
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00018	A0000E	R6      VAR     WORD BANKA SYSTEM       ' System Register
R6              		EQU	RAM_START + 00Eh
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00019	A00010	R7      VAR     WORD BANKA SYSTEM       ' System Register
R7              		EQU	RAM_START + 010h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00020	A00012	R8      VAR     WORD BANKA SYSTEM       ' System Register
R8              		EQU	RAM_START + 012h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00023	A00014	RM1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Mask
RM1             		EQU	RAM_START + 014h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00026	A00015	RM2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Mask
RM2             		EQU	RAM_START + 015h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00021	A00016	RR1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Register
RR1             		EQU	RAM_START + 016h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00024	A00017	RR2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Register
RR2             		EQU	RAM_START + 017h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00022	A00018	RS1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Bank
RS1             		EQU	RAM_START + 018h
; D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.RAM	00025	A00019	RS2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Bank
RS2             		EQU	RAM_START + 019h
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00040	A0001A	Ud var byte
_Ud              		EQU	RAM_START + 01Ah
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00380	PORTL   VAR     PORTB
_PORTL           		EQU	 PORTB
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00381	PORTH   VAR     PORTC
_PORTH           		EQU	 PORTC
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00382	TRISL   VAR     TRISB
_TRISL           		EQU	 TRISB
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00383	TRISH   VAR     TRISC
_TRISH           		EQU	 TRISC
#define _RCSTA2??7       	 RCSTA2, 007h

; Constants.
_USBMEMORYADDRESS		EQU	00400h

; EEPROM data.


	INCLUDE	"25J50_PPS_TEST.MAC"
	INCLUDE	"D:\PROGRAM FILES (X86)\PBP3_1\PBPPIC18.LIB"


; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00036	#HEADER
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00051	#MSG "Using assembly header DEVICES\PIC18F25J50.MPASMINC"
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00060	#CONFIG
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00355	BANKA   $0000, $005F
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00356	BANK0   $0060, $00FF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00357	BANK1   $0100, $01FF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00358	BANK2   $0200, $02FF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00359	BANK3   $0300, $03FF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00360	BANK4   $0400, $04FF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00361	BANK5   $0500, $05FF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00362	BANK6   $0600, $06FF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00363	BANK7   $0700, $07FF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00364	BANK8   $0800, $08FF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00365	BANK9   $0900, $09FF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00366	BANK10  $0A00, $0AFF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00367	BANK11  $0B00, $0BFF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00368	BANK12  $0C00, $0CFF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00369	BANK13  $0D00, $0DFF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00370	BANK14  $0E00, $0EBF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00375	    INCLUDE "PBPPI18L.RAM"
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00376	#ELSE
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00377	    LIBRARY  "PBPPIC18"

; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00378	    INCLUDE "PBPPIC18.RAM"
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00379	#ENDIF
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00384	USBMEMORYADDRESS Con	$400	' USB RAM starts here
; D:\PROGRAM FILES (X86)\PBP3_1\DEVICES\PIC18F25J50.PBPINC	00388	#HEADER
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00003	#CONFIG
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00030	DEFINE OSC 8
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00032	DEFINE HSER_RCSTA 90h 
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00033	DEFINE HSER_TXSTA 24h
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00034	DEFINE HSER_BAUD 9600 
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00036	DEFINE HSER2_RCSTA 90h 
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00037	DEFINE HSER2_TXSTA 24h
; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00038	DEFINE HSER2_BAUD 9600 

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00042	init:

	LABEL?L	_init	

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00043	    OSCCON = %01110011
	MOVE?CB	073h, OSCCON

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00045	    ADCON0 = 0
	MOVE?CB	000h, ADCON0

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00046	    ANCON0 = $FF
	MOVE?CB	0FFh, ANCON0

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00047	    ANCON1 = $FF
	MOVE?CB	0FFh, ANCON1

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00052	    goto uart_pps
	GOTO?L	_uart_pps

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00054	uart_default:

	LABEL?L	_uart_default	

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00056	    TRISA = 0
	MOVE?CB	000h, TRISA

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00057	    TRISB = 0
	MOVE?CB	000h, TRISB

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00058	    TRISC = %10000000
	MOVE?CB	080h, TRISC

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00060	    hserin [ud]
	HSERIN?B	_Ud

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00061	    hserout [ud]
	HSEROUT?B	_Ud

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00063	    goto uart_default
	GOTO?L	_uart_default

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00066	uart_pps:

	LABEL?L	_uart_pps	

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00068	    TRISA = %00000001
	MOVE?CB	001h, TRISA

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00069	    TRISB = 0
	MOVE?CB	000h, TRISB

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00070	    TRISC = 0
	MOVE?CB	000h, TRISC

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00071	    RCSTA2.7 = 1
	MOVE?CT	001h, _RCSTA2??7

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00074	    RPINR16 = 0     'RX2 is PR0(RA0)
	MOVE?CB	000h, RPINR16

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00075	    RPOR1 = 5       'TX2 is RP1(RA1) (see datasheet table10-14 p.152)
	MOVE?CB	005h, RPOR1

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00078	    hserin2 [ud]  
	HSERIN2?B	_Ud

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00079	    hserout2 [ud] 
	HSEROUT2?B	_Ud

; D:\PBP3_PROJECT\25J50_PPS_TEST.PBP	00081	    goto uart_pps
	GOTO?L	_uart_pps

	END
